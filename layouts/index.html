{{ define "main" }}
<main id="main" class="index-page homepage" role="main">
  <div class="container has-padding">
    {{ $pageSize := site.Params.pageSize | default 10 }}
    {{ $paginator := .Paginate (where site.RegularPages "Section" "in" site.Params.mainSections) $pageSize }}
    <div class="article-list">
      {{ range $paginator.Pages }}
      <article class="post">
        <h3 class="title">
          <a href="{{ .Permalink }}" title="{{ .Title }}">{{ .Title }}</a>
        </h3>
        <div class="content summary">
          {{ .Summary | safeHTML }}
          {{ if .Truncated }}
            <span class="hellip">&hellip;</span>
          {{ end }}
        </div>
        <a class="readmore" href="{{ .Permalink }}">
          <span>READ MORE</span>
        </a>
        <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z0700" }}" class="date">{{ .Date.Format "January 02, 2006" }}</time>
      </article>
      {{ end }}
    </div>
    {{ partial "pagination.html" . }}
  </div>
</main>
{{ end }}
